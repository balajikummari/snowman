import React from 'react'
import { useSession, signIn, signOut } from 'next-auth/react'
import ThemeSwitcher from './ThemeSwitcher'
import Link from 'next/link'
import Image from 'next/image'

const Navbar = () => {
  const { data: session } = useSession()
  return (
    <div className="navbar bg-base-100 px-20 ">
      <div className="flex-1">
        <Link
          passHref
          href="/"
          className="btn btn-ghost text-xl normal-case text-primary"
        >
          <svg
            width="244"
            height="17"
            viewBox="0 0 244 17"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M141.582 12.5541C141.778 12.4071 141.88 12.1427 141.88 11.7553V5.06181C141.88 4.79741 141.767 4.57825 141.525 4.40434C141.282 4.2276 140.901 4.13994 140.396 4.13994H130.259L130.331 11.7553C130.331 12.0649 130.433 12.3053 130.651 12.4877C130.858 12.6673 131.227 12.7578 131.732 12.7578H140.454C141.006 12.7578 141.375 12.6927 141.582 12.5541ZM97.4494 16.6078V0.145633H105.249L114.442 12.4014L114.52 12.6149V0.145633H119.02V16.6078H111.289L102.004 4.26719L101.949 4.12015V16.6078H97.4494ZM232.711 16.6743V3.96886H225.991V0.145633H243.996V1.81122C244.054 3.10637 243.421 3.88544 241.915 3.96886H237.496V13.4958C237.429 15.3989 236.737 16.7266 234.541 16.6743H232.711ZM202.382 14.125V0.145633H215.098C216.177 0.145633 217.074 0.229054 217.79 0.391654C218.503 0.562738 219.088 0.839865 219.538 1.22586C219.998 1.61328 220.33 2.13218 220.538 2.79248C220.756 3.44854 220.861 4.28275 220.861 5.29935C220.861 6.30747 220.779 7.15299 220.606 7.84298C220.445 8.52449 220.169 9.08016 219.815 9.50292C219.446 9.92002 218.963 10.2339 218.363 10.4276C217.753 10.6213 216.996 10.7231 216.097 10.7231V10.8009L222.344 16.6743H218.837C217.316 16.564 215.857 16.318 214.739 15.1741L207.826 7.6719H214.695C215.165 7.6719 215.592 7.52768 215.959 7.23217C216.317 6.93384 216.502 6.50683 216.502 5.94551C216.502 5.45347 216.328 5.0505 215.97 4.73661C215.625 4.42131 215.213 4.26719 214.753 4.26719H207.169V16.6743H205.328C203.593 16.564 202.512 15.8203 202.382 14.125ZM178.695 13.0674V0.145633H195.493V3.96886H183.47V6.74861H195.401V10.0883H183.47V11.3028C183.47 12.4523 183.907 12.8242 184.816 12.8242H195.493V16.6743H182.181C180.089 16.7096 178.845 15.6025 178.695 13.0674ZM47.5403 15.5149C46.723 14.7471 46.3205 13.6118 46.3205 12.1059C46.3205 12.0508 46.3205 11.2533 46.3205 9.71501V7.10492C46.3205 5.56517 46.3205 4.77196 46.3205 4.73096C46.3205 3.21383 46.723 2.07138 47.5403 1.29797C48.3454 0.533046 49.6003 0.145633 51.2913 0.145633H64.463V4.2064H51.8191C51.3586 4.2064 51.0247 4.28275 50.7958 4.45949C50.5777 4.6235 50.4727 4.83276 50.4727 5.08726L50.4175 6.45028V10.3668L50.4727 11.6648C50.4727 11.9744 50.5777 12.2205 50.7958 12.4014C51.0045 12.5838 51.3492 12.6757 51.8191 12.6757H64.463V16.6743H51.2913C49.6003 16.6743 48.3454 16.2883 47.5403 15.5149ZM23.0011 13.0674V0.145633H39.7959V3.96886H27.7767V6.74861H39.7178V10.0883H27.7767V11.3028C27.7767 12.4523 28.2237 12.8242 29.1204 12.8242H39.7959V16.6743H26.4883C24.3919 16.7096 23.1613 15.6025 23.0011 13.0674ZM6.51602 13.4958V3.96886H2.09719C0.578469 3.88544 -0.0422132 3.10637 0.00221743 1.81122V0.145633H18.0074V3.96886H11.2889V16.6743H9.47133C7.26191 16.7266 6.57122 15.3989 6.51602 13.4958ZM70.9768 16.6743V0.145633H75.7618V8.92321C76.3017 7.88964 77.43 6.09539 79.7646 6.09539H85.9647V0.145633H90.7403V16.6743H85.9647V10.511H75.7618V16.6743H70.9768ZM159.033 16.7874L150.59 0.145633H154.063C155.317 0.145633 156.111 0.585361 156.547 1.4634L162.015 12.5287L167.364 1.70377C167.906 0.458108 169.045 0.145633 170.066 0.145633H173.438L165.155 16.7874H159.033ZM131.998 16.7874C131.125 16.762 130.364 16.7153 129.73 16.6305C129.1 16.547 128.582 16.4056 128.155 16.2077C127.74 16.014 127.371 15.7298 127.028 15.3678C126.636 14.9946 126.372 14.5789 126.234 14.142C126.096 13.6952 126.016 13.1395 126.016 12.4679V0.0721096C126.924 0.0410035 134.274 0 136.037 0C137.786 0 139.132 0.0141391 140.052 0.0353479C140.973 0.066454 141.753 0.127252 142.374 0.217743C143.008 0.309647 143.536 0.446797 143.963 0.640503C144.378 0.828554 144.757 1.09861 145.101 1.44926C145.483 1.82536 145.759 2.24812 145.895 2.70623C146.046 3.17282 146.113 3.7398 146.113 4.41565C146.113 6.01196 146.113 7.8953 146.113 10.0713V12.4679C146.113 13.1395 146.046 13.6952 145.895 14.142C145.759 14.5789 145.483 14.9946 145.101 15.3678C144.757 15.7298 144.388 16.014 143.975 16.2077C143.571 16.4056 143.055 16.547 142.432 16.6305C141.822 16.7153 141.075 16.762 140.189 16.7874C139.303 16.8129 137.935 16.8185 136.095 16.8185C134.254 16.8185 132.883 16.8129 131.998 16.7874Z"
              fill="currentColor"
            />
          </svg>
        </Link>
      </div>
      <div className="flex flex-row gap-4 ">
        <ThemeSwitcher />
        {session ? (
          <>
            <div className="font-semibold">{session.user?.email}</div>
            <div className="dropdown dropdown-end">
              <label tabIndex={0} className="avatar btn btn-ghost btn-circle">
                <div className="w-10 rounded-full">
                  <Image
                    alt="avatar"
                    fill
                    src={`https://avatars.dicebear.com/api/micah/${session.user?.email}.svg`}
                  />
                </div>
              </label>
              <ul
                tabIndex={0}
                className="dropdown-content menu menu-compact mt-3 w-52 rounded bg-base-100 p-2 shadow"
              >
                {/* <li>
                  <a className="justify-between">
                    Profile
                    <span className="badge">New</span>
                  </a>
                </li> */}
                <li>
                  <Link href="/settings">Settings</Link>
                </li>
                <li>
                  <button onClick={() => signOut()}>Sign out</button>
                </li>
              </ul>
            </div>
          </>
        ) : (
          <button className="btn btn-primary " onClick={() => signIn()}>
            Sign in
          </button>
        )}
      </div>
    </div>
  )
}

export default Navbar
